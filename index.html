<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>multiray.js test</title>
</head>

<body>

<script src="js/multiray.js"></script>

<!-- ------------------------------ -->
<h2><a href="https://github.com/rkibria/multiray.js">multiray.js</a> - JavaScript ray-tracing</h2>

<!-- ------------------------------ -->
<hr>
<h3>Test 1</h3>

<p id="renderinfo1"></p>

<canvas id="rendercanvas1" width="640" height="240">Your browser does not support the HTML5 canvas1 tag.</canvas>

<p id="rendertime1">rendering...</p>

<!-- ------------------------------ -->
<hr>
<h3>Test 2</h3>

<p id="renderinfo2"></p>

<canvas id="rendercanvas2" width="640" height="240">Your browser does not support the HTML5 canvas1 tag.</canvas>

<p id="rendertime2">rendering...</p>

<!-- ------------------------------ -->
<hr>
<h3>References</h3>
<ul>
	<li><a href="https://github.com/rkibria/multiray.js">GitHub project page</a></li>
	<li><a href="https://rkibria.github.io/multiray.js">GitHub Pages project main page</a></li>
	<li>Peter Shirley: Ray Tracing in One Weekend</li>
	<ul>
		<li><a href="https://www.amazon.com/gp/product/B01B5AODD8/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01B5AODD8&linkCode=as2&tag=inonwe09-20&linkId=OPNJXXJY2IBCMEGE">Ray Tracing in One Weekend Kindle Edition</a></li>
		<li><a href="http://in1weekend.blogspot.de/2016/01/ray-tracing-in-one-weekend.html">Ray Tracing in One Weekend blog</a></li>
	</ul>
	<li><a href="https://www.scratchapixel.com/index.php">scratchapixel.com</a></li>
	<ul>
		<li><a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/introduction-to-ray-tracing">Introduction to Ray Tracing: a Simple Method for Creating 3D Images</a></li>
		<li><a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-overview">An Overview of the Ray-Tracing Rendering Technique</a></li>
		<li><a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-generating-camera-rays">Ray-Tracing: Generating Camera Rays</a></li>
	</ul>
</ul>

<!-- ------------------------------ -->

<script>
const renderer = new MULTIRAY.Renderer();

document.getElementById("renderinfo1").innerHTML = "2 spheres, camera at origin, direction = -Z";

const scene1 = new MULTIRAY.Scene();
scene1.backgroundColor.set(0.0, 0.0, 0.0);

const camera = new MULTIRAY.CameraSimple();
camera.horizontal = new MULTIRAY.Vector3(4.0, 0.0, 0.0);
camera.lowerLeftCorner = new MULTIRAY.Vector3(-2.0, -1.0, -1.0);
camera.origin = new MULTIRAY.Vector3(0.0, 0.0, 0.0);
camera.vertical = new MULTIRAY.Vector3(0.0, 2.0, 0.0);
scene1.setCamera(camera);

scene1.addObject(new MULTIRAY.Sphere());
scene1.objects[0].center.set(0, 0, -1);
scene1.objects[0].radius = 0.5;

scene1.addObject(new MULTIRAY.Sphere());
scene1.objects[1].center.set(0, -100.5, -1);
scene1.objects[1].radius = 100;

let t0 = 0, t1 = 0;
(function drawFrame () {
	t0 = performance.now();
	renderer.renderToCanvas(scene1, 2, document.getElementById("rendercanvas1"));
	t1 = performance.now();
	document.getElementById("rendertime1").innerHTML = "Render time: " + Math.floor(t1 - t0) + " ms";

	document.getElementById("renderinfo2").innerHTML = "2 spheres, camera at (1,1,0), direction = -Z";
	scene1.camera.origin.set(1, 1, 0);
	t0 = performance.now();
	renderer.renderToCanvas(scene1, 2, document.getElementById("rendercanvas2"));
	t1 = performance.now();
	document.getElementById("rendertime2").innerHTML = "Render time: " + Math.floor(t1 - t0) + " ms";

}());

</script>

</body>
</html>
